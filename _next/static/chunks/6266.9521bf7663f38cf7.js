"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6266],{6114:function(e,t,l){var s=l(5893),a=l(7294),n=l(1163),d=l(5346),i=l(1664),r=l.n(i),o=l(5383);let c=["/order-detail"];t.Z=()=>{var e,t,l,i;let u=(0,o.t)(),m=(0,n.useRouter)(),[p,x]=(0,a.useState)([]);(0,a.useEffect)(()=>{if(m.pathname){let e=m.asPath.split("?")[0].split("/").filter(e=>e);x(e.map((t,l)=>{let s="/".concat(e.slice(0,l+1).join("/"));return{label:decodeURIComponent(t),href:s}}))}},[m.pathname,m.asPath]);let h=e=>"/product"===e?m.push("/products"):"/categories"===e?m.push("/categories/all"):c.includes(e)?m.back():m.push(e);return(0,s.jsx)("section",{className:"p-3 md:p-6 breadCrumbBg",children:(0,s.jsx)("div",{className:" container px-2",children:(0,s.jsxs)("div",{className:"flex justify-between flex-col gap-1 md:flex-row",children:[(0,s.jsx)("p",{className:"text-xl font-bold capitalize",children:p.length?(null==p?void 0:p.length)===2&&parseInt(null===(e=p[p.length-1])||void 0===e?void 0:e.label)?null==p?void 0:null===(l=p[0])||void 0===l?void 0:l.label:(null==p?void 0:p.length)===1?null==p?void 0:null===(i=p[0])||void 0===i?void 0:i.label:null===(t=p[1])||void 0===t?void 0:t.label:"Home"}),(0,s.jsxs)("div",{className:"flex gap-1 items-center overflow-hidden ",children:[(0,s.jsx)(r(),{href:"/",className:"text-sm font-bold capitalize",children:"Home"}),p.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-1 max-w-[150px]",children:[u?(0,s.jsx)(d.bUI,{size:14}):(0,s.jsx)(d.Dli,{size:14}),t===p.length-1?(0,s.jsx)("span",{className:"text-sm font-bold capitalize cursor-pointer text-ellipsis overflow-hidden whitespace-nowrap",style:{maxWidth:"100%"},title:e.label,children:e.label}):(0,s.jsx)("div",{onClick:()=>h(e.href),className:"text-sm font-bold capitalize text-ellipsis overflow-hidden whitespace-nowrap cursor-pointer",style:{maxWidth:"100%"},title:e.label,children:e.label})]},e.href))]})]})})})}},7241:function(e,t,l){var s=l(5893),a=l(7294),n=l(5007),d=l(7419),i=l(9938),r=l(7296),o=l(9970),c=l(5346),u=l(3870),m=l(3312);t.Z=e=>{var t;let{address:l,setShowAddAddres:p,setIsAddressSelected:x,fetchAddress:h,finalOrderAddress:f,fromAddress:g}=e,v=(0,n.I0)(),y=(0,n.v9)(e=>e.Checkout);(0,n.v9)(e=>e.Addresses.selectedAddress);let _=(0,n.v9)(e=>e.Theme.theme),[b,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),k="".concat(null==l?void 0:l.address,", ").concat(null==l?void 0:l.landmark,", ").concat(null==l?void 0:l.area,", ").concat(null==l?void 0:l.city,", ").concat(null==l?void 0:l.state,", ").concat(null==l?void 0:l.pincode,"-").concat(null==l?void 0:l.country),C=async()=>{try{let e=await r._N({id:l.id});1===e.status&&(h(),j(!1))}catch(e){console.log("error",e)}};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"py-6 px-4 w-full border-b ",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("h2",{className:"font-semibold text-lg",children:[(0,m.t)("delivery_to"),": ",(0,s.jsx)("span",{className:"font-bold",children:null==l?void 0:l.name})]}),!g&&(0,s.jsxs)("div",{className:"flex items-center",children:[!f&&(0,s.jsx)("input",{type:"checkbox",id:"default-address-".concat(l.id),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",checked:(null==y?void 0:null===(t=y.address)||void 0===t?void 0:t.id)===(null==l?void 0:l.id),onChange:()=>{v((0,i.qj)({data:l}))}}),(0,s.jsx)("label",{htmlFor:"default-address-".concat(l.id),className:"ml-2 text-sm",children:null==l?void 0:l.type})]})]}),(null==l?void 0:l.is_default)===1&&!f&&(0,s.jsx)("p",{className:"text-sm mb-2",children:(0,m.t)("default_address_msg")}),(0,s.jsx)("p",{className:"text-sm mb-4 font-semibold",children:k}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 buttonBackground rounded-sm",children:[(0,s.jsxs)("p",{className:"text-base font-medium",children:[(0,m.t)("phone"),": ",(0,s.jsx)("span",{className:"font-medium",children:null==l?void 0:l.mobile})]}),!f&&(0,s.jsxs)("div",{className:"flex md:space-x-1 flex-col md:flex-row",children:[(0,s.jsxs)("button",{className:"flex items-center gap-1 text-base font-medium",onClick:()=>{p(!0),x(!0),v((0,d._q)({data:l}))},children:[(0,s.jsx)(c.ffH,{size:18}),(0,m.t)("edit")]}),(0,s.jsx)("span",{className:"p-1 border-r-2 hidden md:block"}),(0,s.jsxs)("button",{className:"flex items-center text-base font-medium gap-1",onClick:()=>j(!0),children:[(0,s.jsx)(u.qy0,{size:18}),(0,m.t)("delete")]})]})]})]}),(0,s.jsxs)(o.Vq,{open:b,children:[(0,s.jsx)(o.t9,{className:"".concat("light"===_?"bg-white/80":"bg-black/80")}),(0,s.jsx)(o.cZ,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"font-bold",children:(0,m.t)("delete_address")}),(0,s.jsx)("h1",{className:"font-bold",children:(0,m.t)("delete_address_message")}),(0,s.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,s.jsx)("button",{className:"px-4 py-1 bg-green-700 text-white font-bold rounded-sm",onClick:C,children:(0,m.t)("Ok")}),(0,s.jsx)("button",{className:"px-4 py-1 bg-red-700 text-white font-bold rounded-sm",onClick:()=>j(!1),children:(0,m.t)("cancel")})]})]})})]})]})}},2052:function(e,t,l){l.d(t,{Z:function(){return j}});var s=l(5893),a=l(7294),n=l(9970),d=l(3312),i=l(303),r=l(7054),o=l(7296),c=l(1259),u=l(5383),m=l(3083);let p=(0,l(2003).j)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50  [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});a.forwardRef((e,t)=>{let{className:l,variant:a,size:n,...d}=e;return(0,s.jsx)(m.f,{ref:t,className:(0,u.cn)(p({variant:a,size:n,className:l})),...d})}).displayName=m.f.displayName;let x=a.createContext({size:"default",variant:"default"}),h=a.forwardRef((e,t)=>{let{className:l,variant:a,size:n,children:d,...i}=e;return(0,s.jsx)(c.fC,{ref:t,className:(0,u.cn)("flex items-center justify-center gap-1",l),...i,children:(0,s.jsx)(x.Provider,{value:{variant:a,size:n},children:d})})});h.displayName=c.fC.displayName;let f=a.forwardRef((e,t)=>{let{className:l,children:n,variant:d,size:i,...r}=e,o=a.useContext(x);return(0,s.jsx)(c.ck,{ref:t,className:(0,u.cn)(p({variant:o.variant||d,size:o.size||i}),l),...r,children:n})});f.displayName=c.ck.displayName;var g=l(6606),v=l(1159);l(7419);var y=l(5007),_=l(5678),b=l(5334),j=e=>{let{showAddAddres:t,setShowAddAddres:l,isAddressSelected:c,fetchAddress:u}=e;(0,y.I0)();let m=(0,y.v9)(e=>e.Addresses),p=(0,y.v9)(e=>e.City.city),x=(0,y.v9)(e=>e.Theme.theme),[j,N]=(0,a.useState)(""),[w,k]=(0,a.useState)(!1),[C,E]=(0,a.useState)(),[A,z]=(0,a.useState)({name:"",mobile_num:"",alternate_mobile_num:"",address:"",landmark:"",city:"",area:"",pincode:"",state:"",country:"",address_type:"Home",is_default:!0}),[B,q]=(0,a.useState)({city:"",formatted_address:"",lat:parseFloat(0),lng:parseFloat(0)});(0,a.useEffect)(()=>{navigator.geolocation.getCurrentPosition(e=>{q({lat:e.coords.latitude,lng:e.coords.longitude})})},[t]),(0,a.useEffect)(()=>{E({lat:B.lat,lng:B.lng,streetViewControl:!1})},[B.lat,B.lng]),(0,a.useEffect)(()=>{if(""!==A.address){let e=new window.google.maps.Geocoder,t="".concat(A.address,", ").concat(A.city,", ").concat(A.state,", ").concat(A.country);e.geocode({address:t},(e,t)=>{if("OK"===t){let t=e[0].geometry.location;q({lat:t.lat(),lng:t.lng()})}else console.error("Geocode was not successful for the following reason:",t)})}},[A]),(0,a.useEffect)(()=>{if(c&&m.selectedEditAddress&&z({name:m.selectedEditAddress.name,mobile_num:m.selectedEditAddress.mobile,alternate_mobile_num:m.selectedEditAddress.alternate_mobile,address:m.selectedEditAddress.address,landmark:m.selectedEditAddress.landmark,city:m.selectedEditAddress.city,area:m.selectedEditAddress.area,pincode:m.selectedEditAddress.pincode,state:m.selectedEditAddress.country,country:m.selectedEditAddress.country,address_type:m.selectedEditAddress.type,is_default:1===m.selectedEditAddress.is_default}),!c){var e,t;q({lat:parseFloat((null==p?void 0:p.city)?null==p?void 0:null===(e=p.city)||void 0===e?void 0:e.latitude:0),lng:parseFloat((null==p?void 0:p.city)?null==p?void 0:null===(t=p.city)||void 0===t?void 0:t.longitude:0)})}},[c,null==m?void 0:m.selectedEditAddress,t]);let S=async e=>{e.preventDefault();let t=C.lat,s=C.lng;c?(k(!0),1===(await o.y3({id:m.selectedEditAddress.id,name:A.name,mobile:A.mobile_num,type:A.address_type,address:A.address,landmark:A.landmark,area:A.area,pincode:A.pincode,city:A.city,state:A.state,country:A.country,alternate_mobile:A.alternate_mobile_num,latitiude:t,longitude:s,is_default:A.is_default})).status?(_.Am.success("Succesfully Updated Address!"),u(),l(!1)):k(!1)):(k(!0),1==(await o.y$({name:A.name,mobile:A.mobile_num,type:A.address_type,address:A.address,landmark:A.landmark,area:A.area,pincode:A.pincode,city:A.city,state:A.state,country:A.country,alternate_mobile:A.alternate_mobile_num,latitiude:t,longitude:s,is_default:A.is_default})).status?(u(),k(!1),_.Am.success((0,d.t)("address_added_success"))):k(!1),z({name:"",mobile_num:"",alternate_mobile_num:"",address:"",landmark:"",city:"",area:"",pincode:"",state:"",country:"",address_type:"Home",is_default:!1}),l(!1))},F=()=>{z({name:"",mobile_num:"",alternate_mobile_num:"",address:"",landmark:"",city:"",area:"",pincode:"",state:"",country:"",address_type:"Home",is_default:!1}),l(!1)},H={width:"100%",height:window.innerWidth>990?"700px":"400px"},O=e=>{z(t=>({...t,address_type:e}))};return(0,s.jsx)(n.Vq,{open:t,children:(0,s.jsxs)(n.cZ,{className:"max-w-5xl overflow-y-scroll h-full",children:[(0,s.jsx)(n.fK,{children:(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,s.jsx)("h2",{className:"font-bold text-xl",children:(0,d.t)("new_address")}),(0,s.jsx)(i.FMH,{size:32,onClick:()=>F()})]})}),(0,s.jsx)("div",{className:"p-2 ",children:(0,s.jsxs)("div",{className:"flex gap-5 flex-col md:flex-row",children:[(0,s.jsxs)("div",{className:"w-full md:w-1/2 relative",children:[(0,s.jsx)("div",{className:"absolute z-50 top-[10px] right-14 bg-white p-[10px] cursor-pointer text-black",onClick:()=>{navigator.geolocation.getCurrentPosition(e=>{let t={lat:e.coords.latitude,lng:e.coords.longitude};q({lat:parseFloat(t.lat),lng:parseFloat(t.lng)}),new window.google.maps.Geocoder().geocode({location:t}).then(e=>{if(e.results[0]){let t="",l="",s="",a="",n="",d="",i="";e.results[0].address_components.forEach(e=>{var r;(e.types.includes("premise")||e.types.includes("plus_code")||e.types.includes("route"))&&(t=e.long_name),e.types.includes("political")&&(a=e.long_name),(e.types.includes("administrative_area_level_3")||e.types.includes("administrative_area_level_2")||e.types.includes("sublocality"))&&(n=e.long_name),e.types.includes("administrative_area_level_1")&&(d=e.long_name),e.types.includes("country")&&(l=e.long_name),(null==e?void 0:null===(r=e.types)||void 0===r?void 0:r.includes("postal_code"))&&(s=null==e?void 0:e.long_name),e.types.includes("locality")&&(i=e.long_name)}),z(e=>({...e,address:t,landmark:a,city:i,area:n,pincode:s,country:l,state:d}))}else console.log("No result found")}).catch(e=>{console.log(e)}),"geolocation"in navigator||console.log("geolocation not present in navigator")})},children:(0,s.jsx)(g.nDs,{size:20,className:" "})}),(0,s.jsx)(r.b6,{streetViewControl:!1,tilt:!0,options:{streetViewControl:!1,styles:"dark"==x?b.X:[]},zoom:11,center:C,mapContainerStyle:H,className:"h-full",children:(0,s.jsx)(r.jC,{position:C,draggable:!0,onDragStart:()=>{N(!0)},onDragEnd:e=>{let t={lat:B.lat,lng:B.lng};new window.google.maps.Geocoder().geocode({location:{lat:e.latLng.lat(),lng:e.latLng.lng()}}).then(e=>{if(e.results[0]){q({lat:parseFloat(e.results[0].geometry.location.lat()),lng:parseFloat(e.results[0].geometry.location.lng())});let l="",s="",a="",n="",d="",i="",r="";e.results[0].address_components.forEach(e=>{(e.types.includes("premise")||e.types.includes("plus_code")||e.types.includes("route"))&&(l=e.long_name),e.types.includes("political")&&(n=e.long_name),(e.types.includes("administrative_area_level_3")||e.types.includes("administrative_area_level_2")||e.types.includes("sublocality"))&&(d=e.long_name),e.types.includes("administrative_area_level_1")&&(i=e.long_name),e.types.includes("country")&&(s=e.long_name),e.types.includes("postal_code")&&(a=e.long_name),e.types.includes("locality")&&(r=e.long_name)}),""===l||""===d?q({lat:t.lat,lng:t.lng}):z(e=>({...e,address:l,landmark:n,city:r,area:d,pincode:a,country:s,state:i})),N(!1)}}).catch(e=>{console.log(e)})}})})]}),(0,s.jsx)("div",{className:"w-full md:w-1/2 h-full",children:j?(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(v.Z,{height:600,width:600})}):(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:S,children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("h1",{children:(0,d.t)("contact_details")}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("input",{type:"text",placeholder:(0,d.t)("name"),className:"w-full outline-none cardBorder p-1 rounded-sm",value:A.name,onChange:e=>z(t=>({...t,name:e.target.value})),required:!0}),(0,s.jsx)("input",{type:"number",placeholder:(0,d.t)("mobileNumber"),className:"w-full outline-none cardBorder p-1 rounded-sm",value:A.mobile_num,onChange:e=>z(t=>({...t,mobile_num:e.target.value})),required:!0}),(0,s.jsx)("input",{type:"number",placeholder:(0,d.t)("alt_mobile_no"),className:"w-full outline-none cardBorder p-1 rounded-sm",value:A.alternate_mobile_num,onChange:e=>z(t=>({...t,alternate_mobile_num:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("h1",{children:(0,d.t)("address_details")}),(0,s.jsx)("input",{type:"text",placeholder:(0,d.t)("address"),className:"w-full outline-none cardBorder p-1 rounded-sm",value:A.address,onChange:e=>z(t=>({...t,address:e.target.value})),required:!0}),(0,s.jsx)("input",{type:"text",placeholder:(0,d.t)("enter_landmark"),className:"w-full outline-none cardBorder p-1 rounded-sm",value:A.landmark,onChange:e=>z(t=>({...t,landmark:e.target.value})),required:!0}),(0,s.jsx)("input",{type:"text",placeholder:(0,d.t)("enter_area"),className:"w-full outline-none cardBorder p-1 rounded-sm",value:A.area,onChange:e=>z(t=>({...t,area:e.target.value})),required:!0}),(0,s.jsx)("input",{type:"text",placeholder:(0,d.t)("enter_pincode"),className:"w-full outline-none cardBorder p-1 rounded-sm",value:A.pincode,onChange:e=>z(t=>({...t,pincode:e.target.value})),required:!0}),(0,s.jsx)("input",{type:"text",placeholder:(0,d.t)("enter_city"),className:"w-full outline-none cardBorder p-1 rounded-sm",value:A.city,onChange:e=>z(t=>({...t,city:e.target.value})),required:!0}),(0,s.jsx)("input",{type:"text",placeholder:(0,d.t)("enter_state"),className:"w-full outline-none cardBorder p-1 rounded-sm",value:A.state,onChange:e=>z(t=>({...t,state:e.target.value})),required:!0}),(0,s.jsx)("input",{type:"text",placeholder:(0,d.t)("enter_country"),className:"w-full outline-none cardBorder p-1 rounded-sm",value:A.country,onChange:e=>z(t=>({...t,country:e.target.value})),required:!0})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("h1",{children:(0,d.t)("address_type")}),(0,s.jsx)("div",{className:"flex gap-1",children:(0,s.jsxs)(h,{type:"single",children:[(0,s.jsx)(f,{value:"Home",className:"rounded-sm p-2 ".concat("Home"==A.address_type?"text-white primaryBackColor":""),onClick:()=>O("Home"),children:(0,s.jsx)("h1",{children:(0,d.t)("adress_type_home")})}),(0,s.jsx)(f,{value:"Office",className:"rounded-sm p-2 ".concat("Office"==A.address_type?"text-white primaryBackColor":""),onClick:()=>O("Office"),children:(0,s.jsx)("h1",{children:(0,d.t)("address_type_office")})}),(0,s.jsx)(f,{value:"Other",className:"rounded-sm p-2 ".concat("Other"==A.address_type?"text-white primaryBackColor":""),onClick:()=>O("Other"),children:(0,s.jsx)("h1",{children:(0,d.t)("address_type_other")})})]})}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)("input",{type:"checkbox",name:"",id:"",checked:A.is_default,value:A.is_default,onChange:e=>{z(t=>({...t,is_default:e.target.checked}))}}),(0,s.jsx)("p",{className:"font-bold text-sm",children:(0,d.t)("set_as_default_address")})]})]}),(0,s.jsx)("button",{type:"submit",className:"primaryBackColor rounded-sm text-white p-2 font-bold",children:(0,d.t)("confirm_location")})]})})})]})})]})})}}}]);